/*
IHazFlat.js version 0.1 -- by @HenrikJoreteg
Flatstache.js -- by @natevw
More info at: http://github.com/andyet/IHazFlat.js
*/
(function(e){var d={_re3:RegExp("{{{\\s*(\\w+)\\s*}}}","g"),_re2:RegExp("{{\\s*(\\w+)\\s*}}","g"),_re1:RegExp("&(?!\\w+;)|[\"'<>\\\\]","g"),_escapeHTML:function(a){return a.replace(d._re1,function(b){switch(b){case "&":return"&amp;";case "\\":return"&#92;";case '"':return"&quot;";case "'":return"&#39;";case "<":return"&lt;";case ">":return"&gt;";default:return b}})}};d.to_html=function(a,b){return a.replace(d._re3,function(f,c){return b[c]||""}).replace(d._re2,function(f,c){return d._escapeHTML(b[c]||
"")})};window.ihf=new function(){var a=this;a.VERSION="0.1";a.templates={};a.addTemplate=function(b,f){if(a[b])throw"Invalid name: "+b+".";if(a.templates[b])throw'Template " + name + " exists';a.templates[b]=f;a[b]=function(c,g){c=c||{};var h=d.to_html(a.templates[b],c);return g?h:e(h)}};a.grab=function(){e('script[type="text/x-flat"]').each(function(b,f){var c=e(typeof b==="number"?f:b),g="".trim?c.html().trim():e.trim(c.html());a.addTemplate(c.attr("id"),g);c.remove()})};a.clear=function(){for(var b in a.templates)delete a[b];
a.templates={}}};e(function(){window.ihf.grab()})})(window.jQuery||window.Zepto);
